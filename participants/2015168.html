<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>2015168</title>
</head>
<body>
	<h1> Contributions by Ionian University </h1>
	<div id = "mydiv"></div>
	<style type="text/css">
		body {
		    background-color: LightCoral;
		}
		h1{text-align: center;}
		
		.person{
			display:inline-block;
			
			margin-right: 30px;
		}
		.photo{
		    display: block;
		}
	</style>
	<script type="text/javascript">
		function start(){	
			var url  = "https://api.github.com/repos/ioniodi/D3js-uk-political-donations/contributors?per_page=200";
			var req = new XMLHttpRequest();
			req.open("get", url, false);
			req.send();
			var myArray = JSON.parse(req.responseText); 
			for (var i =0;i<myArray.length;i++){
				appendDiv(myArray[i]);
			}
			function appendDiv(myArray) {
				var div = document.createElement("div");
				var image = new Image(100, 100);
				div.className  = "person";
				image.className = "photo"
				div.onclick = function () {
	                window.open(myArray.html_url);
	         	};
				image.src = myArray.avatar_url;
	         	div.appendChild(image);	
				div.innerHTML += "<p><b>"+myArray.login + "</b></br> Contributions: "+myArray.contributions +" </p>";
	         	document.getElementById("mydiv").appendChild(div);    		
			}
		}
		window.onload = start();
	</script>

</body>
</html>